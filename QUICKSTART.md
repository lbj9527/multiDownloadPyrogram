# å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿä¸Šæ‰‹

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### ç¬¬äºŒæ­¥ï¼šè·å–APIå‡­æ®

1. è®¿é—® [my.telegram.org](https://my.telegram.org)
2. ç™»å½•ä½ çš„Telegramè´¦å·
3. ç‚¹å‡» "API development tools"
4. åˆ›å»ºæ–°åº”ç”¨ï¼Œè®°å½•ä¸‹ `api_id` å’Œ `api_hash`

### ç¬¬ä¸‰æ­¥ï¼šé…ç½®API

**æ–¹æ³•ä¸€ï¼šç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰**
```bash
# Windows
set TELEGRAM_API_ID=12345678
set TELEGRAM_API_HASH=your_api_hash_here

# Linux/Mac
export TELEGRAM_API_ID=12345678
export TELEGRAM_API_HASH=your_api_hash_here
```

**æ–¹æ³•äºŒï¼šé…ç½®æ–‡ä»¶**
```bash
cp config.example.json config.json
# ç¼–è¾‘config.jsonï¼Œå¡«å…¥ä½ çš„APIä¿¡æ¯
```

### ç¬¬å››æ­¥ï¼šé…ç½®ä»»åŠ¡

ç¼–è¾‘ `config.json` æ–‡ä»¶ï¼Œè®¾ç½®ä¸‹è½½ä»»åŠ¡ï¼š

```json
{
  "api": {
    "api_id": 12345678,
    "api_hash": "your_api_hash_here"
  },
  "task": {
    "channel_username": "@channel_name",
    "start_message_id": null,
    "end_message_id": null,
    "limit": 1000
  }
}
```

### ç¬¬äº”æ­¥ï¼šè¿è¡Œç¨‹åº

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶è¿è¡Œ
python -m src.main

# æˆ–è€…ä½¿ç”¨ç®€åŒ–è„šæœ¬
python run.py
```

## ğŸ“ å¸¸ç”¨å‘½ä»¤

```bash
# ä¸‹è½½æŒ‡å®šèŒƒå›´çš„æ¶ˆæ¯
python -m src.main @channel_name --start 1000 --end 2000

# é™åˆ¶ä¸‹è½½æ•°é‡
python -m src.main @channel_name --limit 100

# å¥åº·æ£€æŸ¥
python -m src.main --health-check

# ä½¿ç”¨è‡ªå®šä¹‰é…ç½®
python -m src.main @channel_name --config my_config.json
```

## âš™ï¸ åŸºç¡€é…ç½®

### æœ€å°é…ç½®æ–‡ä»¶ (config.json)
```json
{
  "api": {
    "api_id": 12345678,
    "api_hash": "your_api_hash_here"
  }
}
```

### å®Œæ•´é…ç½®æ–‡ä»¶
```json
{
  "api": {
    "api_id": 12345678,
    "api_hash": "your_api_hash_here"
  },
  "proxy": {
    "scheme": "socks5",
    "hostname": "127.0.0.1",
    "port": 7890
  },
  "download": {
    "client_count": 3,
    "download_dir": "downloads",
    "max_retries": 3
  }
}
```

## ğŸ”§ é¦–æ¬¡è¿è¡Œ

ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œç¨‹åºä¼šï¼š

1. **åˆ›å»ºä¼šè¯æ–‡ä»¶**ï¼šä¸ºæ¯ä¸ªå®¢æˆ·ç«¯åˆ›å»ºç‹¬ç«‹çš„ä¼šè¯
2. **è¯·æ±‚è®¤è¯**ï¼šéœ€è¦è¾“å…¥æ‰‹æœºå·å’ŒéªŒè¯ç 
3. **åˆ›å»ºç›®å½•**ï¼šè‡ªåŠ¨åˆ›å»ºä¸‹è½½ç›®å½•å’Œæ—¥å¿—ç›®å½•

```
é¡¹ç›®ç›®å½•/
â”œâ”€â”€ sessions/           # ä¼šè¯æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ downloads/          # ä¸‹è½½æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â”œâ”€â”€ logs/              # æ—¥å¿—æ–‡ä»¶ï¼ˆè‡ªåŠ¨åˆ›å»ºï¼‰
â””â”€â”€ config.json        # é…ç½®æ–‡ä»¶ï¼ˆéœ€è¦åˆ›å»ºï¼‰
```

## ğŸ“± è®¤è¯æµç¨‹

é¦–æ¬¡è¿è¡Œæ—¶ä¼šçœ‹åˆ°ç±»ä¼¼è¾“å‡ºï¼š
```
è¯·è¾“å…¥æ‰‹æœºå· (å›½é™…æ ¼å¼ï¼Œå¦‚ +1234567890): +1234567890
è¯·è¾“å…¥éªŒè¯ç : 12345
```

è®¤è¯æˆåŠŸåï¼Œä¼šè¯æ–‡ä»¶ä¼šä¿å­˜è®¤è¯ä¿¡æ¯ï¼Œä¸‹æ¬¡è¿è¡Œæ— éœ€é‡æ–°è®¤è¯ã€‚

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹1ï¼šä¸‹è½½é¢‘é“æœ€æ–°100æ¡åª’ä½“
```bash
python -m src.main @example_channel --limit 100
```

### ç¤ºä¾‹2ï¼šä¸‹è½½æŒ‡å®šæ—¶é—´æ®µçš„æ¶ˆæ¯
```bash
python -m src.main @example_channel --start 5000 --end 6000
```

### ç¤ºä¾‹3ï¼šä½¿ç”¨ä»£ç†ä¸‹è½½
```bash
# ç¼–è¾‘config.jsonæ·»åŠ ä»£ç†é…ç½®ï¼Œç„¶åè¿è¡Œ
python -m src.main @example_channel
```

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```
2024-12-XX 10:00:00 - MultiDownloadPyrogram - INFO - MultiDownloadPyrogram å¯åŠ¨
2024-12-XX 10:00:01 - MultiDownloadPyrogram - INFO - ä½¿ç”¨ 3 ä¸ªå®¢æˆ·ç«¯è¿›è¡Œä¸‹è½½
2024-12-XX 10:00:02 - MultiDownloadPyrogram - INFO - è·å–åˆ° 150 æ¡æ¶ˆæ¯
2024-12-XX 10:00:03 - MultiDownloadPyrogram - INFO - å…¶ä¸­åŒ…å«åª’ä½“çš„æ¶ˆæ¯: 45 æ¡
2024-12-XX 10:00:04 - MultiDownloadPyrogram - INFO - å¼€å§‹ä¸‹è½½ä¼šè¯ï¼Œé¢„è®¡ä¸‹è½½ 45 ä¸ªæ–‡ä»¶
...
2024-12-XX 10:05:30 - MultiDownloadPyrogram - INFO - ä¸‹è½½å®Œæˆ: æˆåŠŸ 43, å¤±è´¥ 2, è·³è¿‡ 0
```

## â— å¸¸è§é—®é¢˜

### Q: æç¤º"æ²¡æœ‰å¯ç”¨çš„å®¢æˆ·ç«¯"
A: æ£€æŸ¥APIé…ç½®æ˜¯å¦æ­£ç¡®ï¼Œç¡®ä¿ç½‘ç»œè¿æ¥æ­£å¸¸

### Q: FloodWaité”™è¯¯
A: ç¨‹åºä¼šè‡ªåŠ¨å¤„ç†ï¼Œè€å¿ƒç­‰å¾…å³å¯

### Q: ä»£ç†è¿æ¥å¤±è´¥
A: ç¡®è®¤ä»£ç†æœåŠ¡å™¨æ­£å¸¸è¿è¡Œï¼Œæ£€æŸ¥é…ç½®æ˜¯å¦æ­£ç¡®

### Q: è®¤è¯å¤±è´¥
A: åˆ é™¤sessionsç›®å½•ï¼Œé‡æ–°è¿è¡Œç¨‹åºè¿›è¡Œè®¤è¯

## ğŸ‰ æˆåŠŸè¿è¡Œæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹è¾“å‡ºè¯´æ˜ç¨‹åºè¿è¡ŒæˆåŠŸï¼š
```
==================================================
ä¸‹è½½ç»Ÿè®¡:
  é¢‘é“: @example_channel
  æ€»æ¶ˆæ¯æ•°: 150
  åª’ä½“æ¶ˆæ¯æ•°: 45
  ä¸‹è½½æˆåŠŸ: 43
  ä¸‹è½½å¤±è´¥: 2
  è·³è¿‡æ–‡ä»¶: 0
  æˆåŠŸç‡: 95.6%
==================================================
```

## ğŸ“ è·å–å¸®åŠ©

- æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š`README.md`
- æŸ¥çœ‹å‘½ä»¤è¡Œå¸®åŠ©ï¼š`python -m src.main --help`
- æŸ¥çœ‹éœ€æ±‚æ–‡æ¡£ï¼š`requirements_document.md`

ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼ğŸ‰ 

## ğŸ“ é…ç½®è¯´æ˜

### ä»»åŠ¡é…ç½®å‚æ•°

```json
{
  "task": {
    "channel_username": "@example_channel",  // å¿…å¡«ï¼šç›®æ ‡é¢‘é“
    "start_message_id": 1000,               // å¯é€‰ï¼šèµ·å§‹æ¶ˆæ¯ID
    "end_message_id": 2000,                 // å¯é€‰ï¼šç»“æŸæ¶ˆæ¯ID  
    "limit": 500                            // å¯é€‰ï¼šæ¶ˆæ¯æ•°é‡é™åˆ¶
  }
}
```

**å‚æ•°è¯´æ˜**ï¼š
- `channel_username`: ç›®æ ‡é¢‘é“ç”¨æˆ·åï¼Œå¿…é¡»ä»¥@å¼€å¤´
- `start_message_id`: èµ·å§‹æ¶ˆæ¯IDï¼Œnullè¡¨ç¤ºä»æœ€æ–°æ¶ˆæ¯å¼€å§‹
- `end_message_id`: ç»“æŸæ¶ˆæ¯IDï¼Œnullè¡¨ç¤ºä¸é™åˆ¶
- `limit`: æœ€å¤§ä¸‹è½½æ¶ˆæ¯æ•°é‡ï¼Œé»˜è®¤1000